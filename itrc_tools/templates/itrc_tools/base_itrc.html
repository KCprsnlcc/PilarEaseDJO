<!-- itrc_tools/templates/itrc_tools/base_itrc.html -->

{% load static %} {% load compress %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>PilarEase ITRC Tools</title>
    {% block extra_head %} {{ block.super }}
    <!-- Toastr CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"
    />
    {% compress css %}
    <link rel="stylesheet" href="{% static 'css/itrc.css' %}" />
    {% endcompress %} {% endblock %}
  </head>
  <body>
    {% block content %}
    <!-- Sidebar -->
    <div
      class="pilarease-itrc-sidebar sidebar animate__animated animate__fadeInLeft"
    >
      <div class="pilarease-itrc-sidebar-header sidebar-header">
        <img
          src="{% static 'images/PilarLogo.png' %}"
          alt="Logo"
          class="pilarease-itrc-sidebar-logo sidebar-logo"
        />
        <img
          src="{% static 'images/PilarEaseLogo.png' %}"
          alt="Additional Logo"
          class="pilarease-itrc-sidebar-additional-logo sidebar-additional-logo"
        />
        <span class="pilarease-itrc-sidebar-title sidebar-title"
          >PilarEase</span
        >
      </div>
      <ul class="pilarease-itrc-sidebar-menu sidebar-menu">
        <li>
          <a href="{% url 'itrc_dashboard' %}" class="pilarease-itrc-menu-item">
            <i class="bx bx-dashboard"></i>
            <span class="pilarease-itrc-menu-text">Dashboard</span>
          </a>
        </li>
        <li>
          <a
            href="{% url 'upload_masterlist' %}"
            class="pilarease-itrc-menu-item"
          >
            <i class="bx bx-upload"></i>
            <span class="pilarease-itrc-menu-text">Upload Masterlist</span>
          </a>
        </li>
        <li>
          <a href="{% url 'manage_users' %}" class="pilarease-itrc-menu-item">
            <i class="bx bx-user-check"></i>
            <span class="pilarease-itrc-menu-text">Manage Users</span>
          </a>
        </li>
        <li>
          <a
            href="{% url 'system_settings' %}"
            class="pilarease-itrc-menu-item"
          >
            <i class="bx bx-cog"></i>
            <span class="pilarease-itrc-menu-text">System Settings</span>
          </a>
        </li>
        <li>
          <a
            href="{% url 'generate_reports' %}"
            class="pilarease-itrc-menu-item"
          >
            <i class="bx bx-file"></i>
            <span class="pilarease-itrc-menu-text">Reports</span>
          </a>
        </li>
        <li>
          <a href="{% url 'logout' %}" class="pilarease-itrc-menu-item">
            <i class="bx bx-log-out"></i>
            <span class="pilarease-itrc-menu-text">Logout</span>
          </a>
        </li>
      </ul>
    </div>

    <!-- Main Content -->
    <div class="pilarease-itrc-main-content main-content">
      <!-- Header -->
      <div class="pilarease-itrc-header header">
        <div class="pilarease-itrc-header-right header-right">
          <i class="bx bx-bell pilarease-itrc-bell-icon"></i>
          <div class="pilarease-itrc-profile-icon profile-icon">
            {{ request.user.username|slice:":1"|upper }}
          </div>
        </div>
      </div>

      <!-- Content Area -->
      <div class="pilarease-itrc-content content">
        {% block itrc_content %}
        <!-- ITRC-specific content will be injected here -->
        {% endblock %}
      </div>
    </div>

    <!-- Toastr Notifications -->
    {% if messages %}
    <script>
      document.addEventListener("DOMContentLoaded", function () {
          {% for message in messages %}
              {% if message.tags == 'success' %}
                  toastr.success("{{ message|escapejs }}", "Success");
              {% elif message.tags == 'error' %}
                  toastr.error("{{ message|escapejs }}", "Error");
              {% elif message.tags == 'warning' %}
                  toastr.warning("{{ message|escapejs }}", "Warning");
              {% elif message.tags == 'info' %}
                  toastr.info("{{ message|escapejs }}", "Information");
              {% endif %}
          {% endfor %}
      });
    </script>
    {% endif %} {% endblock %}
  </body>
</html>
