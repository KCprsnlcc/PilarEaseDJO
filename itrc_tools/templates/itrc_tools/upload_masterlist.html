<!-- itrc_tools/templates/itrc_tools/upload_masterlist.html -->

{% extends "itrc_tools/base_itrc.html" %} {% block itrc_content %}
<div
  class="pilarease-itrc-upload-masterlist-container animate__animated animate__fadeIn"
>
  <h1 class="pilarease-itrc-section-title">Upload Enrollment Masterlist</h1>

  <form
    method="post"
    enctype="multipart/form-data"
    class="pilarease-itrc-upload-form"
  >
    {% csrf_token %}

    <div class="pilarease-itrc-form-group">
      <label for="csv_file">Select CSV File</label>
      <input type="file" name="csv_file" id="csv_file" accept=".csv" />
      <small class="pilarease-itrc-form-help">
        Upload a CSV file with headers: student_id, full_name,
        academic_year_level
      </small>
    </div>

    <button type="submit" class="pilarease-itrc-action-button upload-button">
      <i class="bx bxs-cloud-upload"></i> Upload
    </button>
  </form>

  <!-- Display Enrollment Masterlist Data -->
  <h2 class="pilarease-itrc-subsection-title">Enrollment Masterlist</h2>
  {% if masterlist_data %}
  <table class="pilarease-itrc-table">
    <thead>
      <tr>
        <th>Student ID</th>
        <th>Full Name</th>
        <th>Academic Year Level</th>
      </tr>
    </thead>
    <tbody>
      {% for student in masterlist_data %}
      <tr>
        <td>{{ student.student_id }}</td>
        <td>{{ student.full_name }}</td>
        <td>{{ student.academic_year_level }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p class="pilarease-itrc-no-data">No enrollment data available.</p>
  {% endif %}
</div>
{% endblock %}
