{% load static %} {% load compress %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css?family=Aguafina+Script&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Gothic+A1&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Inter&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Epilogue&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://unpkg.com/cropperjs/dist/cropper.css"
      rel="stylesheet"
    />
    {% compress css %}
    <link rel="stylesheet" href="{% static 'css/main.css' %}?v=1.0" />
    <link rel="stylesheet" href="{% static 'css/main-footer.css' %}?v=1.0" />
    {% endcompress %}
    <title>PilarEase | A Portal for Guidance Counseling Support System</title>
    <link rel="icon" href="{% static 'images/Icons/PilarEaseLogo.ico' %}" />
  </head>
  <body class="{% if user.is_authenticated %}authenticated{% endif %}">
    <div id="loader-overlay">
      <div id="loader" class="loader-5"></div>
    </div>
    <div id="overlay" class="overlay" style="display: none"></div>
    <header>
      <div class="v1_119">
        <span class="v1_120">PilarEase</span>
        <div class="v1_122"></div>
        <div class="v1_123"></div>
        {% if user.is_authenticated %}
        <label class="burger" for="burger">
          <input type="checkbox" id="burger" />
          <span></span>
          <span></span>
          <span></span>
          <nav class="dropdown">
            <ul>
              <li>
                <a href="#" id="profileLink"
                  ><i class="bx bxs-user"></i> Profile
                </a>
              </li>
              <li>
                <a href="#"><i class="bx bxs-heart"></i> Feelings </a>
              </li>
              <li>
                <a href="#" id="avatarLink"
                  ><i class="bx bxs-image"></i> Upload Avatar
                </a>
              </li>
              <li>
                <a href="#" id="passwordLink"
                  ><i class="bx bxs-key"></i> Password Manager
                </a>
              </li>
              <li>
                <a href="{% url 'logout' %}" class="logout-link"
                  ><i class="bx bxs-log-out"></i> Logout
                </a>
              </li>
            </ul>
          </nav>
        </label>
        {% else %}
        <a href="#" id="loginLink" class="v1_121">Login</a>
        {% endif %}
      </div>
    </header>
    <div class="content">{% block content %}{% endblock %}</div>
    <footer>
      <div class="container2">
        <div class="footer">
          <div class="logo">
            <img src="{% static 'images/Earth.png' %}" alt="Earth" />
          </div>
          <div class="website">www.pilarease.com</div>
        </div>
        <button class="join-us">JOIN US!</button>
        <div class="icon"></div>
        <div class="intro">
          PilarEase is a dedicated online platform designed to provide a safe
          haven for expressing your emotions. We understand the importance of
          having a space where you can freely share your thoughts and feelings
          without inhibition.
        </div>
        <div class="actions">
          Share your Feelings<br />Submit an Appointment<br />Become a
          Pilarist<br />Contact Us
        </div>
        <div class="connect">CONNECT</div>
        <div class="learn-more">Learn More...</div>
        <div class="about-us">ABOUT US</div>
        <div class="links">LINKS</div>
      </div>
    </footer>

    <!-- Login Modal -->
    <div class="v53_168 modal" id="loginModal" style="display: none">
      <div class="v53_169"></div>
      <div class="v53_170"></div>
      <span class="v53_171">Don't have an Account?</span>
      <span class="v53_172">OR</span>
      <span class="v53_173"
        >Join our exclusive, confidential Emotional Expression Portal.</span
      >
      <span class="v53_174">Sign In.</span>
      <div class="v53_178"></div>
      <a href="#" id="registerLink" class="v53_179">Register</a>
      <form id="loginForm" action="{% url 'login' %}" method="post">
        {% csrf_token %}
        <span class="v53_180">Username</span>
        <div class="v53_181">
          <input
            type="text"
            name="username"
            class="input-field"
            placeholder="Username"
          />
        </div>
        <span class="v53_183">Password</span>
        <div class="v53_184">
          <input
            type="password"
            name="password"
            class="input-field"
            placeholder="********"
          />
        </div>
        <button type="submit" class="v53_186" id="loginButton">
          <span class="v53_187">Login</span>
        </button>
      </form>
      <div class="v53_190" id="closeLoginModal">
        <img
          src="{% static 'images/close2.png' %}"
          class="close-button"
          alt="Close"
        />
      </div>
      <!-- Login Error Notification Dialog -->
      <div
        id="loginDialogBox"
        class="flat-ui-dialog error"
        style="display: none"
      >
        <div id="loginDialogContent"></div>
      </div>
      <!-- Login Success Notification Dialog -->
      <div
        id="loginSuccessBox"
        class="flat-ui-dialog success"
        style="display: none"
      >
        <div id="loginSuccessContent"></div>
      </div>
    </div>

    <!-- Register Modal -->
    <div class="v74_801 modal" id="registerModal" style="display: none">
      <span class="v74_802"
        >"Embrace the art of cooking, where flavors come alive!"</span
      >
      <span class="v74_806">Get Started.</span>
      <div class="v74_835"></div>
      <a href="#" id="loginLinkFromRegister" class="v74_838">Login</a>
      <div class="v74_812"></div>
      <form id="registerForm" action="{% url 'register' %}" method="post">
        {% csrf_token %}
        <span class="v74_807">Student ID No.</span>
        <div class="v74_808">
          <input
            type="text"
            name="student_id"
            class="input-field"
            placeholder="ex. C****77"
          />
        </div>
        <span class="v74_813">Username</span>
        <div class="v74_814">
          <input
            type="text"
            name="username"
            class="input-field"
            placeholder="ex. KCprsnlcc"
          />
        </div>
        <span class="v74_816">Full Name</span>
        <div class="v74_817">
          <input
            type="text"
            name="full_name"
            class="input-field"
            placeholder="ex. Last name, First Name A."
          />
        </div>
        <span class="v74_819">Academic Year Level</span>
        <div class="v74_820">
          <input
            type="text"
            name="academic_year_level"
            class="input-field"
            placeholder="ex. First Year, Grade 12, etc."
          />
        </div>
        <span class="v74_823">Contact Number</span>
        <div class="v74_824">
          <input
            type="tel"
            name="contact_number"
            class="input-field"
            placeholder="Ex. +639949953785"
          />
        </div>
        <span class="v74_826">Email</span>
        <div class="v74_827">
          <input
            type="email"
            name="email"
            class="input-field"
            placeholder="ex. name@email.com"
          />
        </div>
        <span class="v74_829">Password</span>
        <div class="v74_830">
          <input
            type="password"
            name="password1"
            class="input-field"
            placeholder="********"
          />
        </div>
        <span class="v74_832">Confirm Password</span>
        <div class="v74_833">
          <input
            type="password"
            name="password2"
            class="input-field"
            placeholder="********"
          />
        </div>
        <button type="submit" class="v74_810" id="signupButton">
          <span class="v74_811">Sign Up</span>
        </button>
      </form>
      <span class="v74_822">Privacy Policy and Terms of Service apply</span>
      <span class="v74_836">Join us at the PilarEase's Portal!</span>
      <span class="v74_837">An existing account?</span>
      <div class="v53_190" id="closeRegisterModal">
        <img
          src="{% static 'images/close2.png' %}"
          class="close-button"
          alt="Close"
        />
      </div>
      <!-- Register Error Notification Dialog -->
      <div
        id="registerDialogBox"
        class="flat-ui-dialog error"
        style="display: none"
      >
        <div id="registerDialogContent"></div>
      </div>
      <!-- Register Success Notification Dialog -->
      <div
        id="registerSuccessBox"
        class="flat-ui-dialog success"
        style="display: none"
      >
        <div id="registerSuccessContent"></div>
      </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="modal-content profile">
      <span class="close" id="closeProfileModal">&times;</span>
      <h2>Profile Settings</h2>
      <div class="profile-icon tooltip" id="profileIcon">
        <img
          src="{% static 'images/avatars/placeholder.png' %}"
          alt="Profile Icon"
          id="profileIconImage"
        />
        <span class="tooltiptext" id="profileTooltip"
          >Click to change avatar.</span
        >
      </div>
      <form id="profileForm">
        <label for="student-id">Student ID No.</label>
        <input
          type="text"
          id="student-id"
          name="student-id"
          placeholder="ex. C210077"
          disabled
        />

        <label for="full-name">Full Name</label>
        <input
          type="text"
          id="full-name"
          name="full-name"
          placeholder="ex. Khadaffe Abubakar Sulaiman"
          disabled
        />

        <label for="username">Username</label>
        <input
          type="text"
          id="username"
          name="username"
          placeholder="ex. KCprsnlcc"
        />

        <label for="email">Email</label>
        <input
          type="email"
          id="email"
          name="email"
          placeholder="ex. kcpersonalacc@gmail.com"
        />

        <label for="academic-year">Academic Year Level</label>
        <input
          type="text"
          id="academic-year"
          name="academic-year"
          placeholder="ex. Fourth Year"
        />

        <label for="contact-number">Contact Number</label>
        <input
          type="tel"
          id="contact-number"
          name="contact-number"
          placeholder="ex. +639949953785"
        />
        <button type="submit" class="save-changes" id="updateProfileBtn">
          Save changes
        </button>
      </form>
    </div>

    <!-- Avatar Modal -->
    <div id="avatarModal" class="modal-content avatar">
      <span class="close" id="closeAvatarModal">&times;</span>
      <h2>Change Your Avatar!</h2>
      <div class="avatar-options">
        <div class="built-in-avatars">
          <div class="avatars-grid">
            <div class="upload-area">
              <img
                id="currentAvatar"
                src=""
                data-placeholder-url="{% static 'images/avatars/placeholder.png' %}"
                alt="Upload Avatar"
              />
              <div
                id="avatarLoader"
                class="loader-avatar"
                style="display: none"
              ></div>
              <input
                type="file"
                id="uploadAvatarInput"
                accept="image/*"
                style="display: none"
              />
            </div>
            <img
              src="{% static 'images/avatars/avataaars1.png' %}"
              alt="Avatar 1"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars2.png' %}"
              alt="Avatar 2"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars3.png' %}"
              alt="Avatar 3"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars4.png' %}"
              alt="Avatar 4"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars5.png' %}"
              alt="Avatar 5"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars6.png' %}"
              alt="Avatar 6"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars7.png' %}"
              alt="Avatar 7"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars8.png' %}"
              alt="Avatar 8"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars9.png' %}"
              alt="Avatar 9"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars10.png' %}"
              alt="Avatar 10"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars11.png' %}"
              alt="Avatar 11"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars12.png' %}"
              alt="Avatar 12"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars13.png' %}"
              alt="Avatar 13"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars14.png' %}"
              alt="Avatar 14"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars15.png' %}"
              alt="Avatar 15"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars16.png' %}"
              alt="Avatar 16"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars17.png' %}"
              alt="Avatar 17"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars18.png' %}"
              alt="Avatar 18"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars19.png' %}"
              alt="Avatar 19"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars20.png' %}"
              alt="Avatar 20"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars21.png' %}"
              alt="Avatar 21"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars22.png' %}"
              alt="Avatar 22"
              class="avatar-option"
            />
            <img
              src="{% static 'images/avatars/avataaars23.png' %}"
              alt="Avatar 23"
              class="avatar-option"
            />
          </div>
          <button class="primary" id="saveAvatarBtn">Change Now</button>
          <button class="secondary" id="cancelAvatarBtn">No, Thanks</button>
        </div>
        <!-- Notification Dialogs -->
        <div
          id="notificationSuccessBox"
          class="flat-ui-dialog success"
          style="display: none"
        >
          <div id="notificationSuccessContent"></div>
        </div>
        <div
          id="notificationErrorBox"
          class="flat-ui-dialog error"
          style="display: none"
        >
          <div id="notificationErrorContent"></div>
        </div>
        <!-- Cropping Modal -->
        <div
          id="cropperModal"
          class="modal-content cropper"
          style="display: none"
        >
          <span class="close" id="closeCropperModal">&times;</span>
          <h2>Crop Your Image</h2>
          <div class="cropper-container">
            <img id="imageToCrop" src="" alt="Image to Crop" />
          </div>
          <button class="primary" id="cropImageBtn">Crop</button>
          <button class="secondary" id="cancelCropBtn">Cancel</button>
        </div>
      </div>
      <form id="avatarForm" enctype="multipart/form-data" style="display: none">
        <input type="file" name="avatar" id="avatarInput" accept="image/*" />
        <input type="hidden" name="avatar_url" id="avatarUrlInput" />
      </form>
      <!-- Hidden element to store the URL -->
      <input
        type="hidden"
        id="uploadAvatarUrl"
        value="{% url 'upload_avatar' %}"
      />
    </div>

    <!-- Password Manager Modal -->
    <div id="passwordModal" class="modal-content password">
      <span class="close" id="closePasswordModal">&times;</span>
      <h2>Password Manager</h2>
      <p>Make sure to save your password in a password manager!</p>
      <form id="passwordForm">
        <div class="input-container">
          <label for="currentPassword">Current Password</label>
          <input
            type="password"
            id="currentPassword"
            name="currentPassword"
            showpass="true"
            required
          />
        </div>
        <div class="input-container">
          <label for="newPassword">New Password</label>
          <input
            type="password"
            id="newPassword"
            name="newPassword"
            placeholder="At least 8 characters and at least 2 numbers"
            showpass="true"
            required
          />
          <div class="password-strength">
            <div class="strength-bar" id="strengthBar"></div>
          </div>
        </div>
        <div class="input-container">
          <label for="repeatPassword">Repeat New Password</label>
          <input
            type="password"
            id="repeatPassword"
            name="repeatPassword"
            showpass="true"
            required
          />
        </div>
        <button type="submit" id="confirmPassword">Confirm</button>
        <button type="button" id="generatePassword">
          Generate a Secure Password for Me (recommended!)
        </button>
      </form>
      <div
        id="updatepasssuccess"
        class="flat-ui-dialog success"
        style="display: none"
      >
        <div id="updatepasssuccessContent">Password updated successfully!</div>
      </div>
      <div
        id="updatepasserror"
        class="flat-ui-dialog error"
        style="display: none"
      >
        <div id="updatepasserrorContent">
          Please check your current password.
        </div>
      </div>
    </div>

    <!-- Login Required Modal -->
    <div
      id="loginRequiredModal"
      class="flat-ui-dialog required"
      style="display: none"
    >
      <p>You need to log in to compose a status.</p>
      <button id="openLoginModal">Login</button>
    </div>

    <!-- Session Expiry Notification Dialog -->
    <div
      id="sessionDialogBox"
      class="flat-ui-dialog session"
      style="display: none"
    >
      <div id="sessionDialogContent">Session Expired, Please log in again.</div>
    </div>

    <!-- Logout Success Notification Dialog -->
    <div
      id="logoutSuccessBox"
      class="flat-ui-dialog logout"
      style="display: none"
    >
      <div id="logoutSuccessContent">Logout successful!</div>
    </div>
    <script src="https://unpkg.com/cropperjs"></script>
    {% compress js %}
    <script src="{% static 'js/main.js' %}?v=1.0"></script>
    <script src="{% static 'js/custom.js' %}?v=1.0"></script>
    {% endcompress %}
  </body>
</html>
